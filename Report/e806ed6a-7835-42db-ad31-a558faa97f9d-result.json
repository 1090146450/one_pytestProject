{"name": "登录接口测试", "status": "broken", "statusDetails": {"message": "UnboundLocalError: local variable 'guest_json' referenced before assignment", "trace": "self = <GuestTest.testCase.test_api.Test_Url object at 0x0000022901B34C40>\ndriver = {'check': {'data': [], 'message': 'username or passwrord is None', 'status': 10102}, 'data': {'username': 'root'}, 'method': 'post', 'title': '少参', ...}\ndr = <Commom.Logger.MemoryLog object at 0x0000022902504820>\n\n    @pytest.mark.parametrize(\"driver\", yaml_data)\n    @allure.title(\"登录接口测试\")\n    @allure.step(\"步骤\")\n    def test_login(self, driver, dr):\n        \"\"\"登录接口测试\"\"\"\n        # 添加LOG\n        title = driver[\"title\"]\n        dr.info(f\"开始执行用例,标题:{title}\")\n        dr.info(\"读取用例中数据\")\n        with allure.step(\"获取URL\"):\n            guest_url = Consts.all_url + driver[\"url\"]  # 获取URL\n        dr.info(\"URL读取成功,URL:\" + str(guest_url))\n        with allure.step(\"获取测试数据\"):\n            data = driver[\"data\"]  # 获取数据驱动中的数据\n        dr.info(f\"接口传值:{data}\")\n        with allure.step(\"获取请求方式\"):\n            method = driver[\"method\"]  # 获取请求方式\n        dr.info(f\"请求方式:{method}\")\n        dr.info(f\"开始请求接口\")\n        try:\n            with allure.step(\"开始请求接口\"):\n                guest_data = Request.RequestUtil().all_send_request(method, guest_url, data=data)  # 开始请求接口\n            dr.info(f\"接口请求成功\")\n        except Exception as e:\n            dr.error(f\"接口请求失败,失败原因如下:{e}\\n\")\n        try:\n            guest_json = guest_data.json()  # 获取返回的JSON\n        except Exception as e:\n            dr.error(f\"获取JSON失败:{e}\")\n>       dr.info(f\"请求返回数据:{guest_json}\")\nE       UnboundLocalError: local variable 'guest_json' referenced before assignment\n\ntestCase\\test_api.py:66: UnboundLocalError"}, "description": "登录接口测试", "steps": [{"name": "步骤", "status": "broken", "statusDetails": {"message": "UnboundLocalError: local variable 'guest_json' referenced before assignment\n", "trace": "  File \"D:\\baiduwangpan\\python_virtualenv\\python_guest\\lib\\site-packages\\allure_commons\\_allure.py\", line 192, in impl\n    return func(*a, **kw)\n  File \"D:\\BaiduNetdiskDownload\\GuestTest\\testCase\\test_api.py\", line 66, in test_login\n    dr.info(f\"请求返回数据:{guest_json}\")\n"}, "steps": [{"name": "获取URL", "status": "passed", "start": 1678378824758, "stop": 1678378824758}, {"name": "获取测试数据", "status": "passed", "start": 1678378824758, "stop": 1678378824758}, {"name": "获取请求方式", "status": "passed", "start": 1678378824758, "stop": 1678378824758}, {"name": "开始请求接口", "status": "passed", "start": 1678378824758, "stop": 1678378824951}], "parameters": [{"name": "driver", "value": "{'title': '少参', 'url': 'api/login', 'method': 'post', 'data': {'username': 'root'}, 'check': {'status': 10102, 'message': 'username or passwrord is None', 'data': []}}"}, {"name": "dr", "value": "<Commom.Logger.MemoryLog object at 0x0000022902504820>"}], "start": 1678378824758, "stop": 1678378824951}], "parameters": [{"name": "driver", "value": "{'title': '少参', 'url': 'api/login', 'method': 'post', 'data': {'username': 'root'}, 'check': {'status': 10102, 'message': 'username or passwrord is None', 'data': []}}"}], "start": 1678378824758, "stop": 1678378824952, "uuid": "fd024117-f590-46f3-9d78-0a34e0592391", "historyId": "92e9f628f385ca5c0b619b2e31ab4a9b", "testCaseId": "6848161d12060c7245eec5b2f64d6a93", "fullName": "testCase.test_api.Test_Url#test_login", "labels": [{"name": "epic", "value": "接口测试用例"}, {"name": "feature", "value": "登录模块"}, {"name": "parentSuite", "value": "testCase"}, {"name": "suite", "value": "test_api"}, {"name": "subSuite", "value": "Test_Url"}, {"name": "host", "value": "USER-20220728GX"}, {"name": "thread", "value": "15092-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "testCase.test_api"}]}